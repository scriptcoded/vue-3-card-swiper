import{S as e,V as t,a as n,b as o,t as a,w as r,n as i,r as d,o as s,c as l,d as u,F as p,e as c,f,g as m,h as x,v,i as g,j as h,k as b,l as w,H as y,m as S,p as C,q as I}from"./vendor.423851d3.js";e.use([t]);var B={components:{Swiper:n,SwiperSlide:o},props:{items:{type:Array,required:!0},spaceBetween:{type:Number,default:0},index:{type:Number,default:0}},emits:["update:index"],setup(e,{emit:t}){const{items:n,index:o}=a(e);let d;r(n,((e,t)=>{if(d){console.log(e.length,t.length);const n=-(Math.min(...e.map((e=>e.index)))-Math.min(...t.map((e=>e.index))));i((()=>{for(let e=0;e<n;e++)d.slideNext(0)}))}}));const s=()=>{const e=n.value[d.activeIndex];if(o.value!==e.index){const e=n.value.findIndex((e=>e.index===o.value));d.slideTo(e,0)}};r(o,s);return{onSwiper:e=>{d=e,s()},onActiveIndexChange:()=>{const e=n.value[d.activeIndex];t("update:index",e.index)}}}};B.render=function(e,t,n,o,a,r){const i=d("swiper-slide"),m=d("swiper",!0);return s(),l(m,{class:"fixed w-screen h-screen overflow-hidden pt-6","slides-per-view":1,"space-between":n.spaceBetween,virtual:"",onSwiper:o.onSwiper,onActiveIndexChange:o.onActiveIndexChange},{default:u((()=>[(s(!0),l(p,null,c(n.items,(t=>(s(),l(i,{key:t.index,"virtual-index":t.index},{default:u((()=>[f(e.$slots,"default",{id:t.id,index:t.index})])),_:2},1032,["virtual-index"])))),128))])),_:1},8,["space-between","onSwiper","onActiveIndexChange"])};var A={props:{type:{type:String,default:"button"},color:{type:String,default:"plain"}},setup(e){const{color:t}=a(e),n={plain:"bg-white text-gray-600 border-gray-300 hover:bg-gray-100 focus:ring-indigo-600",indigo:"bg-indigo-600 text-white border-indigo-600 hover:bg-indigo-700 focus:ring-indigo-600"};return{colorClasses:m((()=>n[t.value]))}}};A.render=function(e,t,n,o,a,r){return s(),l("button",{type:n.type,class:["focus:outline-none border focus:ring-2 focus:ring-opacity-50 rounded-md px-4 h-10 min-w-[40px] font-medium text-sm focus:ring-offset-2 shadow-sm",o.colorClasses]},[f(e.$slots,"default")],10,["type"])};var k={props:{modelValue:{type:String,default:""},type:{type:String,default:"text"},name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},error:{type:String,default:null},placeholder:{type:String,default:null},autofocus:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const{modelValue:n}=a(e);return{value:m({get:()=>n.value,set:e=>t("update:modelValue",e)})}}};const _={class:"text-red-600 text-sm"};k.render=function(e,t,n,o,a,r){return s(),l("div",null,[x(g("input",{id:n.id,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),type:n.type,name:n.name,autocomplete:n.autocomplete,autofocus:n.autofocus,placeholder:n.placeholder,class:["w-full border rounded-lg shadow-sm focus:shadow-md",{"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500":!n.error,"border-red-600 focus:border-red-500 ring-red-600 focus:ring-red-600":n.error}]},null,10,["id","type","name","autocomplete","autofocus","placeholder"]),[[v,o.value]]),g("span",_,h(n.error),1)])};var O={props:{open:Boolean},emits:["update:open"],setup(e,{emit:t}){const{open:n}=a(e),o=b(),i=b(0),d=b(!1);w((()=>{if(!o.value)throw new Error("Missing swiper element");const e=new y.Manager(o.value);e.add(new y.Pan({threshold:0,pointers:0,direction:y.DIRECTION_VERTICAL})),e.on("pan",(e=>{d.value&&(i.value=Math.max(e.deltaY,0)/o.value.clientHeight)})),e.on("panstart",(e=>{d.value=e.offsetDirection===y.DIRECTION_DOWN})),e.on("panend",(e=>{d.value&&(d.value=!1,i.value=0,(e.deltaY>200||e.velocityY>.4)&&(i.value=1,setTimeout((()=>{t("update:open",!1)}),300)))}))}));const s=()=>{i.value=n.value?0:1};r(n,s),w(s);const l=m((()=>{const e=(.3-i.value)*(1/.3);return Math.max(5*e,0)})),u=m((()=>l.value>0?`blur(${l.value}px)`:null));return{card:o,offset:i,isDismissing:d,blurCSS:u}}};O.render=function(e,t,n,o,a,r){return s(),l("div",{class:["fixed top-0 left-0 w-screen h-screen",{"pointer-events-none":!n.open,"transition-all duration-300 ease":!o.isDismissing}],style:{"backdrop-filter":o.blurCSS}},[g("div",{ref:"card",class:["w-full h-full pointer-events-auto zbg-blue-600 bg-opacity-30",{"transition-transform duration-300 ease-in-out":!o.isDismissing}],style:{transform:`translateY(${100*o.offset}%)`}},[n.open?f(e.$slots,"default",{key:0}):S("",!0)],6)],6)};var T={components:{Swiper:B,BaseButton:A,BaseTextInput:k,BottomCard:O},setup(){let e=123;const t=()=>(e++).toString();let n=0;const o=()=>n++;let a=-1;const r=b([{id:t(),index:o(),text:"First"},{id:t(),index:o(),text:"Second"},{id:t(),index:o(),text:"Third"}]),i=b(0),d=b(!1);return{items:r,currentIndex:i,addBefore:()=>{r.value=[{id:t(),index:a--,text:"Before"},...r.value]},addAfter:()=>{r.value=[...r.value,{id:t(),index:o(),text:"After"}]},bottomCardOpen:d}}};const V={class:"min-h-screen bg-gray-100"},D=C(" Add before "),M=C(" Add after "),N=C(" Open "),$={class:"mx-2 rounded-3xl flex flex-col items-center justify-center h-full shadow-lg-up bg-white"};T.render=function(e,t,n,o,a,r){const i=d("BaseButton"),p=d("BaseTextInput"),c=d("Swiper"),f=d("BottomCard");return s(),l("div",V,[g(i,{onClick:o.addBefore},{default:u((()=>[D])),_:1},8,["onClick"]),g(i,{onClick:o.addAfter},{default:u((()=>[M])),_:1},8,["onClick"]),g(i,{onClick:t[1]||(t[1]=e=>o.bottomCardOpen=!0)},{default:u((()=>[N])),_:1}),g(p,{type:"number",placeholder:"Current index","model-value":o.currentIndex.toString(),"onUpdate:modelValue":t[2]||(t[2]=e=>o.currentIndex=parseInt(e))},null,8,["model-value"]),g(f,{open:o.bottomCardOpen,"onUpdate:open":t[4]||(t[4]=e=>o.bottomCardOpen=e)},{default:u((()=>[g(c,{index:o.currentIndex,"onUpdate:index":t[3]||(t[3]=e=>o.currentIndex=e),items:o.items,"space-between":8},{default:u((({id:e,index:t})=>[g("div",$,h(e)+" | "+h(t),1)])),_:1},8,["index","items"])])),_:1},8,["open"])])};I(T).mount("#app");
